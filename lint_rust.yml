steps:

  # Install clippy and Misspell.
  - script: |
      rustup component add clippy
      go install github.com/client9/misspell/cmd/misspell@latest
    displayName: Install Lint tools

  # Lint rust using clippy.
  - script: cargo clippy
    displayName: 'clippy'

  # Install rustfmt
  - script: rustup component add rustfmt
    displayName: Install Rustfmt

  # Lint rust using rustfmt
  - script: rustfmt ./src/*.rs --check
    displayName: rustfmt check

  - script: find . -type f | grep -e \.rs | grep -v /target | xargs misspell -error
    displayName: misspell
